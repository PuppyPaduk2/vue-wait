!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueLoading=t():e.VueLoading=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";const i=n(2),o=new Map;function a(e,t){const n=Object.assign({caseSensitive:!1},t),a=e+JSON.stringify(n);if(o.has(a))return o.get(a);const s="!"===e[0];s&&(e=e.slice(1)),e=i(e).replace(/\\\*/g,".*");const r=new RegExp(`^${e}$`,n.caseSensitive?"":"i");return r.negated=s,o.set(a,r),r}e.exports=((e,t,n)=>{if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError(`Expected two arrays, got ${typeof e} ${typeof t}`);if(0===t.length)return e;const i="!"===t[0][0];t=t.map(e=>a(e,n));const o=[];for(const n of e){let e=i;for(const i of t)i.test(n)&&(e=!i.negated);e&&o.push(n)}return o}),e.exports.isMatch=((e,t,n)=>{const i=a(t,n),o=i.test(e);return i.negated?!o:o})},function(e,t,n){"use strict";n.r(t);var i=n(0);function o(e,t){return t.match(/[\*\!]/)?e.filter(e=>Object(i.isMatch)(e,t)).length>0:Array.isArray(t)?e.some(e=>t.includes(e)):e.indexOf(t)>-1}function a(e){return e.length>0}function s(e,t){return d([...e,t])}function r(e,t){return d(e).filter(e=>e!==t)}function d(e){return e.filter((e,t,n)=>t==n.indexOf(e))}function c(e,t){const n={};return"object"==typeof e&&(t=e,e=null),Object.keys(t).forEach(i=>{const o=t[i];n[i]=async function(...t){try{return this.__$vueLoadingInstance.startLoading(o),await this.$store.dispatch(e?`${e}/${i}`:i,...t)}finally{this.__$vueLoadingInstance.endLoading(o)}}}),n}function u(e,t,n=!1){return"function"!=typeof t?(console.warn("[vuex-loading] wrapLoading second argument must be a function"),t):!0===n?function(...n){try{return this.__$vueLoadingInstance.startLoading(e),t.apply(this,n)}finally{this.__$vueLoadingInstance.endLoading(e)}}:async function(...n){try{return this.__$vueLoadingInstance.startLoading(e),await t.apply(this,n)}finally{this.__$vueLoadingInstance.endLoading(e)}}}const l="START_LOADING",f="END_LOADING";var g={namespaced:!0,state:{activeLoaders:[]},getters:{isLoading:e=>t=>o(e.activeLoaders,t),anyLoading:e=>a(e.activeLoaders)},actions:{startLoading:({commit:e},t)=>e(l,t),endLoading:({commit:e},t)=>e(f,t)},mutations:{[l](e,t){e.activeLoaders=s(e.activeLoaders,t)},[f](e,t){e.activeLoaders=r(e.activeLoaders,t)}}};var p=function(e,t,n,i,o,a,s,r){var d,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=d):o&&(d=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(e,t){return d.call(t),u(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,d):[d]}return{exports:e,options:c}}({props:{visible:Boolean,loader:String,message:String},computed:{isLoading(){return this.visible?this.visible:this.loader?this.__$vueLoadingInstance.isLoading(this.loader):this.__$vueLoadingInstance.anyLoading}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?n("span",[e._t("loading"),e._v(" "),e.message?n("span",[e._v(e._s(e.message))]):e._e()],2):e._e(),e._v(" "),e.isLoading?e._e():e._t("default")],2)},[],!1,null,null,null).exports;function L(e,t,n,i){const{arg:o,modifiers:a,value:s}=t;let r=n.context.__$vueLoadingInstance.isLoading(s);(a.not||["hidden","enabled"].includes(o))&&(r=!r);const d="none"===e.style.display?"":e.style.display;switch(o){case"visible":case"hidden":e.style.display=r?d:"none";break;case"enabled":case"disabled":r?e.setAttribute("disabled",!0):e.removeAttribute("disabled")}}var h={bind:function(e,t,n,i){const{arg:o,modifiers:a,value:s}=t,r=n.context.__$vueLoadingInstance;switch(o){case"click":if(a.start){e.addEventListener("click",()=>r.startLoading(s),!1);break}if(a.end){e.addEventListener("click",()=>r.endLoading(s),!1);break}break;case"toggle":e.addEventListener("click",()=>{r.isLoading(s)?r.endLoading(s):r.startLoading(s)},!1)}L(e,t,n)},update:L};n.d(t,"default",function(){return v}),n.d(t,"install",function(){return _}),n.d(t,"mapLoadingActions",function(){return c}),n.d(t,"wrapLoading",function(){return u});class v{constructor(e={}){this.options={...{accessorName:"$vueLoading",useVuex:!1,vuexModuleName:"loading",registerComponent:!0,componentName:"v-loading",registerDirective:!0,directiveName:"loading"},...e},this.initialized=!1}init(e,t){if(!this.initialized){if(this.options.registerComponent&&e.component(this.options.componentName,p),this.options.registerDirective&&e.directive(this.options.directiveName,h),this.options.useVuex){const{vuexModuleName:n}=this.options;if(!t)throw new Error("[vuex-loading] Vuex not initialized.");this.store=t;try{t.unregisterModule(n)}finally{t.registerModule(n,g)}this.stateHandler=new e({computed:{isLoading:()=>e=>t.getters[`${n}/isLoading`](e),anyLoading:()=>t.getters[`${n}/anyLoading`]}})}else this.stateHandler=new e({data:()=>({activeLoaders:[]}),computed:{isLoading(){return e=>o(this.activeLoaders,e)},anyLoading(){return a(this.activeLoaders)}},methods:{startLoading(e){this.activeLoaders=s(this.activeLoaders,e)},endLoading(e){this.activeLoaders=r(this.activeLoaders,e)}}});this.initialized=!0}}get anyLoading(){return this.stateHandler.anyLoading}isLoading(e){return this.stateHandler.isLoading(e)}dispatchLoaderAction(e,t){const{vuexModuleName:n}=this.options;this.store.dispatch(`${n}/${e}`,t,{root:!0})}startLoading(e){this.options.useVuex?this.dispatchLoaderAction("startLoading",e):this.stateHandler.startLoading(e)}endLoading(e){this.options.useVuex?this.dispatchLoaderAction("endLoading",e):this.stateHandler.endLoading(e)}}function _(e){_.installed&&e||(e.mixin({beforeCreate(){const{vueLoading:t,store:n,parent:i}=this.$options;let o=null;t?(o="function"==typeof t?new t:t).init(e,n):i&&i.__$vueLoadingInstance&&(o=i.__$vueLoadingInstance).init(e,i.$store),o&&(this.__$vueLoadingInstance=o,this[o.options.accessorName]=o)}}),_.installed=!0)}v.install=_},function(e,t,n){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(i,"\\$&")}},function(e,t,n){e.exports=n(1)}])});